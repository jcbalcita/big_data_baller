AWSTemplateFormatVersion: '2010-09-09'

Parameters:
  BigBaller:
    Description: BigBaller app user
    Type: String
    Default: NbaDynamo

Resources:
  NbaDynamoPolicy:
    Type: AWS::IAM::ManagedPolicy
    Properties:
      PolicyDocument:
        Version: "2012-10-17"
        Statement:
        - Sid: ListAndDescribe
          Effect: Allow
          Action:
          - "dynamodb:List*"
          - "dynamodb:DescribeReservedCapacity*"
          - "dynamodb:DescribeLimits"
          - "dynamodb:DescribeTimeToLive"
          Resource: "*"
        - Sid: SpecificTable
          Effect: Allow
          Action:
          - "dynamodb:BatchGet*"
          - "dynamodb:DescribeStream"
          - "dynamodb:DescribeTable"
          - "dynamodb:Get*"
          - "dynamodb:Query"
          - "dynamodb:Scan"
          - "dynamodb:BatchWrite*"
          - "dynamodb:CreateTable"
          - "dynamodb:Delete*"
          - "dynamodb:Update*"
          - "dynamodb:PutItem"
          Resource: !ImportValue NbaTableArn
      Users:
        - !Ref BigBaller
      ManagedPolicyName: NbaDynamoReadWrite